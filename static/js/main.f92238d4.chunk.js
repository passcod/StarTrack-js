(this["webpackJsonpstartrack-js"]=this["webpackJsonpstartrack-js"]||[]).push([[0],{113:function(e,t,a){},114:function(e,t,a){},115:function(e,t,a){},124:function(e,t,a){},125:function(e,t,a){},127:function(e,t,a){},131:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(8),s=a.n(o),l=(a(89),a(144)),c=a(143),i=a(10),u=a(133),m=a(145),p=a(134),d=a(26),g=a(7),h=a(9),f=function(e){var t=function(){var t=e.accessToken;return null!==t&&void 0!==t?t.substring(0,6):""},a=Object(d.useMediaQuery)({query:"(max-width: 650px)"});return null===e.accessToken||void 0===e.accessToken||""===e.accessToken?n.a.createElement(u.a,{variant:"outline-light",onClick:e.onLoginClick},a?n.a.createElement(g.a,{icon:h.d,className:"mr-1"}):"GitHub Authentication"):n.a.createElement("div",null,a?n.a.createElement(m.a,{trigger:"click",placement:"bottom",overlay:n.a.createElement(p.a,null,"Access token '",t(),"' stored in ",e.storageType)},n.a.createElement(u.a,null,n.a.createElement(g.a,{icon:h.c,className:"mr-1"}))):n.a.createElement(m.a,{placement:"bottom",delay:{show:250},overlay:n.a.createElement(p.a,null,"Access token stored in ",e.storageType)},n.a.createElement(l.a.Text,{className:"mr-2 ml-2"},n.a.createElement(g.a,{icon:h.c,className:"mr-1"}),t())),n.a.createElement(u.a,{variant:"outline-light",onClick:e.onLogoutClick},a?n.a.createElement(g.a,{icon:h.e,className:"mr-1"}):"Log Out"))},b=a(141),E=a(142),v=a(75),k=a(12),y=a.n(k),w=a(28),x=a(29),S=a(55),j=a.n(S),C="statrack_js_access_token",O="local storage",R="session storage",T=function(){function e(){Object(w.a)(this,e)}return Object(x.a)(e,[{key:"validateAndStoreAccessToken",value:function(e,t){return y.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,y.a.awrap(j.a.get("https://api.github.com/user",this._prepareRequestHeaders(e)));case 3:this._setStorageType(t).setItem(C,e),a.next=9;break;case 6:throw a.prev=6,a.t0=a.catch(0),a.t0;case 9:case"end":return a.stop()}}),null,this,[[0,6]])}},{key:"removeAccessToken",value:function(){this._getStorage().removeItem(C)}},{key:"sleep",value:function(e){return new Promise((function(t){return setTimeout(t,e)}))}},{key:"loadStargazers",value:function(e,t,a,r){var n,o,s,l,c,i,u;return y.a.async((function(m){for(;;)switch(m.prev=m.next){case 0:m.prev=0,n=[],o=1,s=1,l=1,a(0);case 6:if(!(l<=s)){m.next=22;break}if(!r()){m.next=9;break}return m.abrupt("return",null);case 9:return c="https://api.github.com/repos/{user}/{repo}/stargazers?per_page=100&page={page}".replace("{page}",l).replace("{user}",e).replace("{repo}",t),m.next=12,y.a.awrap(j.a.get(c,this._prepareRequestHeaders(this.getAccessToken())));case 12:if(i=m.sent,1!==l){m.next=17;break}if(!((s=this._getLastStargazerPage(i.headers.link))>30)||this.isLoggedIn()){m.next=17;break}throw Error('Cannot load a repo with more than 3000 stars without GitHub access token. Please click "GitHub Authentication" and provide one');case 17:for(a(l/s*100),l++,u=0;u<i.data.length;u++)n.push({x:i.data[u].starred_at,y:o++});m.next=6;break;case 22:return m.abrupt("return",n);case 25:if(m.prev=25,m.t0=m.catch(0),void 0!==m.t0.response){m.next=29;break}throw m.t0;case 29:if(404!==m.t0.response.status){m.next=33;break}throw Error("Repo "+e+"/"+t+" Not found");case 33:if(403!==m.t0.response.status){m.next=37;break}throw Error("API rate limit exceeded!"+(this.isLoggedIn()?"":' Please click "GitHub Authentication" and provide GitHub access token to increase rate limit'));case 37:throw Error("Couldn't fetch stargazers data, error code "+m.t0.response.status+" returned"+(m.t0.response.data.message&&""!==m.t0.response.data.message?": "+m.t0.response.data.message:""));case 38:case"end":return m.stop()}}),null,this,[[0,25]])}},{key:"getAccessToken",value:function(){return this._getStorage().getItem(C)}},{key:"isLoggedIn",value:function(){var e=this.getAccessToken();return null!==e&&void 0!==e&&""!==e}},{key:"getRepoUrl",value:function(e,t){return"https://github.com/{user}/{repo}".replace("{user}",e).replace("{repo}",t)}},{key:"getStorageType",value:function(){switch(this._getStorage()){case sessionStorage:return R;case localStorage:return O;default:return null}}},{key:"_getStorage",value:function(){return e._storage}},{key:"_setStorageType",value:function(t){switch(this.removeAccessToken(),t){case O:e._storage=localStorage;break;case R:e._storage=sessionStorage;break;default:e._storage=sessionStorage}return e._storage}},{key:"_prepareRequestHeaders",value:function(e){return{headers:Object(v.a)({Accept:"application/vnd.github.v3.star+json"},void 0!==e&&null!==e&&""!==e&&{Authorization:"token "+e})}}},{key:"_getLastStargazerPage",value:function(e){if(void 0===e||0===e.length)return 1;var t=e.split(",");for(var a in t){var r=t[a].split(";");if(2===r.length){var n=r[0].replace(/<(.*)>/,"$1").trim();if("last"===r[1].replace(/rel="(.*)"/,"$1").trim())return n.replace(/(.*)&page=(.*)/,"$2").trim()}}}}],[{key:"_getStorageDefault",value:function(){return null!==sessionStorage.getItem(C)&&void 0!==sessionStorage.getItem(C)&&""!==sessionStorage.getItem(C)?sessionStorage:null!==localStorage.getItem(C)&&void 0!==localStorage.getItem(C)&&""!==localStorage.getItem(C)?localStorage:sessionStorage}}]),e}();T._storage=T._getStorageDefault();var N=new T;Object.freeze(N);var P=N,D="init",L="valid",A="invalid",I="did-not-check",_=function(e){var t=Object(r.useState)(D),a=Object(i.a)(t,2),o=a[0],s=a[1],l=Object(r.useRef)(),c=Object(r.useRef)(),m=Object(r.useRef)(),p=function(){m.current=e.handleClose,s(I)};return Object(r.useEffect)((function(){null!==m.current&&void 0!==m.current&&(m.current(),s(D))}),[o]),n.a.createElement(b.a,{show:e.show,onHide:p},n.a.createElement(E.a,{onSubmit:function(t){t.preventDefault(),P.validateAndStoreAccessToken(l.current.value,c.current.checked?O:R).then((function(){m.current=e.handleLoginSuccess,s(L)})).catch((function(){m.current=null,s(A)}))}},n.a.createElement(b.a.Header,{closeButton:!0},n.a.createElement(b.a.Title,null,"GitHub Authentication")),n.a.createElement(b.a.Body,null,n.a.createElement("p",null,"GitHub API ",n.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://developer.github.com/v3/#rate-limiting"},"rate limiter")," makes it impossible to collect stargazer data on repos with more than 3000 stars without GitHub authentication."),n.a.createElement("p",null,"If you'd like to view stargazer data for this repo, please provide your GitHub auth details."),n.a.createElement("p",null,"Please note these credentials aren't stored in any server. This application is based on pure javascript so the credentials are only used to send authenticated requests to GitHub API."),n.a.createElement(E.a.Group,{controlId:"githubAuthenticationForm"},n.a.createElement(E.a.Label,null,"GitHub access token (generate one ",n.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://github.com/settings/tokens"},"here"),")"),n.a.createElement(E.a.Control,{ref:l,type:"text",placeholder:"fc516773214acf13d10f856c6b80037999da4fd3",isInvalid:o===A,required:!0}),n.a.createElement(E.a.Control.Feedback,{type:"invalid"},"Access token is invalid."),n.a.createElement(E.a.Text,{className:"text-muted"},"These credentials aren't stored in any server."),n.a.createElement(E.a.Check,{ref:c,inline:!0,type:"checkbox",id:"storageType",label:"Save access token in local storage"}),n.a.createElement(E.a.Label,null,n.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://stackoverflow.com/questions/5523140/html5-local-storage-vs-session-storage"},"Learn more")))),n.a.createElement(b.a.Footer,null,n.a.createElement(u.a,{variant:"secondary",onClick:p},"Close"),n.a.createElement(u.a,{variant:"primary",type:"submit"},"Login"))))},z=function(){var e=Object(r.useState)(!1),t=Object(i.a)(e,2),a=t[0],o=t[1],s=Object(r.useState)(P.getAccessToken()),l=Object(i.a)(s,2),c=l[0],u=l[1],m=Object(r.useState)(P.getStorageType()),p=Object(i.a)(m,2),d=p[0],g=p[1];return n.a.createElement("div",null,n.a.createElement(f,{onLoginClick:function(){o(!0)},onLogoutClick:function(){P.removeAccessToken(),u(P.getAccessToken()),g(P.getStorageType())},accessToken:c,storageType:d}),n.a.createElement(_,{show:a,handleClose:function(){o(!1),u(P.getAccessToken()),g(P.getStorageType())},handleLoginSuccess:function(){o(!1),u(P.getAccessToken()),g(P.getStorageType())}}))},B=a(39),G=a(77),H=function(){var e=Object(d.useMediaQuery)({query:"(max-width: 650px)"});return n.a.createElement(l.a,{bg:"primary",variant:"dark"},n.a.createElement(l.a.Brand,{href:"#/"},n.a.createElement("img",{alt:"",src:window.location.pathname+"star-icon.png",width:"30",height:"30",className:"d-inline-block align-top"})," ","StarTrack v",G.version),n.a.createElement(c.a,{className:"mr-auto"}),n.a.createElement(c.a,null,n.a.createElement(c.a.Link,{href:"https://github.com/seladb/startrack-js",target:"_blank",rel:"noopener noreferrer"},n.a.createElement(g.a,{icon:B.a,className:"mr-1"}),e?"":"Project On GitHub")),n.a.createElement(z,null))},M=a(40),q=a(146),F=a(138),U=(a(113),a(51),a(114),a(135)),K=a(136),Q=a(76),$=a(137),J=function(e){return n.a.createElement(U.a,null,n.a.createElement(K.a,null,n.a.createElement(K.a.Prepend,null,n.a.createElement(m.a,{placement:"bottom",delay:{show:100},overlay:n.a.createElement(p.a,null,'Tip: you can paste any GitHub URL or string in the format of "username/repo"')},n.a.createElement(K.a.Text,null,"Repo Details"))),n.a.createElement(Q.a,{ref:e.userName,placeholder:"Username","aria-label":"Username",onKeyPress:e.handleKeyPress,onPaste:e.handlePaste}),n.a.createElement(K.a.Prepend,null,n.a.createElement(K.a.Text,null,"/")),n.a.createElement(Q.a,{ref:e.repoName,placeholder:"Repo name","aria-label":"Repo name",onKeyPress:e.handleKeyPress,onPaste:e.handlePaste}),e.loadInProgress?n.a.createElement("div",null,n.a.createElement(u.a,{className:"RepoDetailsDesktopLayout-loadingButton",type:"button",disabled:!0},n.a.createElement($.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"})," Loading..."),n.a.createElement(u.a,{className:"RepoDetails-stopButton",onClick:e.onStopClick},n.a.createElement(g.a,{icon:h.f}))):n.a.createElement(u.a,{className:"RepoDetailsDesktopLayout-goButton",type:"button",onClick:e.onGoClick},"Go!")))},W=(a(115),function(e){return n.a.createElement(F.a,null,n.a.createElement(U.a,null,n.a.createElement(E.a.Label,{className:"RepoDetailsMobileLayout-headline"},"Repo Details")),n.a.createElement(U.a,null,n.a.createElement(Q.a,{ref:e.userName,placeholder:"Username","aria-label":"Username",onKeyPress:e.handleKeyPress,onPaste:e.handlePaste})),n.a.createElement(U.a,null,n.a.createElement(Q.a,{ref:e.repoName,placeholder:"Repo name","aria-label":"Repo name",onKeyPress:e.handleKeyPress,onPaste:e.handlePaste})),n.a.createElement(U.a,null,e.loadInProgress?n.a.createElement("div",{className:"RepoDetailsMobileLayout-loadingDiv"},n.a.createElement(u.a,{className:"RepoDetailsMobileLayout-loadingButton",type:"button",disabled:!0},n.a.createElement($.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"})," Loading..."),n.a.createElement(u.a,{className:"RepoDetails-stopButton",onClick:e.onStopClick},n.a.createElement(g.a,{icon:h.f}))):n.a.createElement(u.a,{className:"RepoDetailsMobileLayout-goButton",type:"button",onClick:e.onGoClick},"Go!")))}),Y=a(79),V=a.n(Y),X=function(e){var t=Object(r.useRef)(),a=Object(r.useRef)(),o=function(){e.onRepoDetails(a.current.value.trim(),t.current.value.trim())},s=function(t){13!==t.charCode||e.loadInProgress||o()},l=function(e){var r=V()(e.clipboardData.getData("Text"));r&&("https:"===r.protocol&&"github.com"===r.hostname&&null!==r.name&&null!==r.owner||null===r.protocol&&null===r.hostname&&null!==r.name&&null!==r.owner)&&(e.preventDefault(),a.current.value=r.owner,t.current.value=r.name)},c=Object(d.useMediaQuery)({query:"(max-width: 520px)"});return n.a.createElement(F.a,{className:"RepoDetails-container"},c?n.a.createElement(W,{userName:a,repoName:t,onGoClick:o,handleKeyPress:s,handlePaste:l,loadInProgress:e.loadInProgress,onStopClick:e.onStopClick}):n.a.createElement(J,{userName:a,repoName:t,onGoClick:o,handleKeyPress:s,handlePaste:l,loadInProgress:e.loadInProgress,onStopClick:e.onStopClick}))},Z=a(80),ee=a.n(Z),te=function(e){var t=e.repos.map((function(e){return{name:e.username+"/"+e.repo,data:e.stargazerData}})),a={chart:{id:"stargazers",zoom:{autoScaleYaxis:!(e.repos.length>1)},events:{zoomed:function(t,a){var r=a.xaxis;a.yaxis;e.onTimeRangeChange&&e.onTimeRangeChange(r)}}},xaxis:{type:"datetime"},tooltip:{x:{format:"dd MMM yyyy"}},colors:e.repos.map((function(e){return e.color}))};return n.a.createElement(F.a,{className:"mt-5"},n.a.createElement(ee.a,{options:a,series:t,type:"line"}))},ae=a(139),re=(a(124),function(e){return n.a.createElement(F.a,{className:"StatsTable-topContainer"},n.a.createElement("h3",null,"Repo stats:"),n.a.createElement(E.a,{className:"mb-3"},n.a.createElement(E.a.Check,{type:"checkbox",label:"Sync stats to chart zoom level",onChange:function(t){e.requestToSyncChartTimeRange&&e.requestToSyncChartTimeRange(t.target.checked)}})),n.a.createElement(ae.a,{bordered:!0,responsive:!0,hover:!0},n.a.createElement("thead",null,n.a.createElement("tr",{className:"StatsTable-header"},n.a.createElement("th",null),Object.keys(e.repos[0].stats).map((function(e){return n.a.createElement("th",null,e)})))),n.a.createElement("tbody",null,e.repos.map((function(e){return n.a.createElement("tr",{className:"StatsTable-row",style:{backgroundColor:e.color}},n.a.createElement("th",null,e.username+" / "+e.repo),Object.values(e.stats).map((function(e){return n.a.createElement("th",null,e)})))})))))}),ne=window.location.origin+window.location.pathname+"#/preload?",oe=function(e){var t=Object(r.useRef)();return n.a.createElement(K.a,{className:"mb-3 mt-5"},n.a.createElement(K.a.Prepend,null,n.a.createElement(K.a.Text,{id:"url"},"URL")),n.a.createElement(Q.a,{readOnly:!0,"aria-label":"URL",value:void 0===e.repos||null===e.repos||0===e.repos.length?"":ne+e.repos.map((function(e){return"r={user},{repo}".replace("{user}",e.username).replace("{repo}",e.repo)})).join("&"),ref:t}),n.a.createElement(K.a.Append,null,n.a.createElement(m.a,{placement:"right",delay:{show:250},overlay:n.a.createElement(p.a,null,"Copy URL")},n.a.createElement(u.a,{variant:"outline-secondary",onClick:function(){t.current.select(),document.execCommand("copy")}},n.a.createElement(g.a,{icon:h.a})))))},se=a(140),le=(a(125),function(e){return n.a.createElement("h5",null,n.a.createElement(se.a,{pill:!0,variant:"primary",style:{backgroundColor:e.color}},void 0!==e.href&&null!==e.href?n.a.createElement("a",{className:"ClosableBadge-Link",target:"_blank",rel:"noopener noreferrer",href:e.href},e.text):e.text,n.a.createElement(u.a,{"data-testid":"close-button",size:"sm",onClick:function(){e.onBadgeClose(e.badgeCookieData)},style:{backgroundColor:e.color,borderColor:e.color}},n.a.createElement(g.a,{icon:h.g}))))}),ce=a(59),ie=function(e){var t=e.pageEmpty?"fixed-bottom":"",a=Object(d.useMediaQuery)({query:"(max-width: 530px)"});return n.a.createElement(l.a,{bg:"light",sticky:"bottom",className:t},a?"":n.a.createElement(l.a.Text,{className:"mr-2"},"Created by"),n.a.createElement(ce.a,{href:"https://github.com/seladb","data-size":"large","aria-label":"@seladb"},"@seladb"),a?n.a.createElement(l.a.Text,{className:"ml-2 mr-2"}):n.a.createElement(l.a.Text,{className:"ml-2 mr-2"},"Give us a star:"),n.a.createElement(ce.a,{href:"https://github.com/seladb/startrack-js","data-icon":"octicon-star","data-size":"large","data-show-count":"true","aria-label":"Star StarTrack on GitHub"},"Star"),n.a.createElement(c.a,{className:"mr-auto"}),n.a.createElement(c.a,null,n.a.createElement(c.a.Link,{href:"https://github.com/seladb",target:"_blank",rel:"noopener noreferrer"},n.a.createElement(g.a,{icon:B.a,className:"mr-1"})),n.a.createElement(c.a.Link,{href:"https://twitter.com/seladb",target:"_blank",rel:"noopener noreferrer"},n.a.createElement(g.a,{icon:B.b,className:"mr-1"})),n.a.createElement(c.a.Link,{href:"mailto:pcapplusplus@gmail.com",target:"_blank",rel:"noopener noreferrer"},n.a.createElement(g.a,{icon:h.b,className:"mr-1"}))))},ue=new(function(){function e(){Object(w.a)(this,e)}return Object(x.a)(e,[{key:"calcStats",value:function(e,t){var a=e.map((function(e){return new Date(e.x)}));if(t&&void 0!==t.min&&void 0!==t.max){var r=new Date(t.min),n=new Date(t.max);a=a.filter((function(e){return e>=r&&e<=n}))}if(0===a.length)return{"Number of stars":0,"Number of days":0,"Average stars per day":0,"Average days per star":0,"Days with stars":0,"Max stars in one day":0,"Day with most stars":0};var o=a[0],s=a[a.length-1],l=1===a.length?1:Math.floor((s.getTime()-o.getTime())/1e3/60/60/24),c=0,i=0,u=a[0],m=1,p=Math.floor(a[0]/1e3/60/60/24-1),d=p;return a.forEach((function(e){var t=Math.floor(e/1e3/60/60/24);t===d?m+=1:(d!==p&&(c+=t-d-1),m>i&&(i=m,u=new Date(1e3*d*60*60*24)),m=1),d=t})),{"Number of stars":a.length,"Number of days":l,"Average stars per day":(a.length/l).toFixed(3),"Average days per star":(l/a.length).toFixed(3),"Days with stars":l-c,"Max stars in one day":i,"Day with most stars":u.toISOString().slice(0,10)}}}]),e}());Object.freeze(ue);var me=ue,pe=["#008FFB","#00E396","#FEB019","#FF4560","#775DD0","#F86624","#00B1F2","#5A2A27"],de=function(){function e(){Object(w.a)(this,e)}return Object(x.a)(e,[{key:"loadStargazers",value:function(t,a,r,n){var o;return y.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,y.a.awrap(P.loadStargazers(t,a,r,n));case 2:if(null!==(o=s.sent)){s.next=5;break}return s.abrupt("return",null);case 5:return e.colorIndex=e.colorIndex+1===pe.length?0:e.colorIndex+1,s.abrupt("return",{username:t,repo:a,color:pe[e.colorIndex],stargazerData:o,stats:me.calcStats(o)});case 7:case"end":return s.stop()}}))}}]),e}();de.colorIndex=-1;var ge=new de;Object.freeze(ge);var he=ge,fe=function(e){var t=Object(r.useState)(e.preloadedRepos?e.preloadedRepos:[]),a=Object(i.a)(t,2),o=a[0],s=a[1],l=Object(r.useState)({show:!1,title:"",message:""}),c=Object(i.a)(l,2),m=c[0],p=c[1],d=Object(r.useState)({isLoading:!1,loadProgress:0}),g=Object(i.a)(d,2),h=g[0],f=g[1],E=function(e){f({isLoading:!0,loadProgress:e})},v=Object(r.useRef)(),k=Object(r.useRef)(!1),w=Object(r.useRef)(null),x=function(e,t){p({show:!0,title:e,message:t})},S=function(){p({show:!1,title:"",message:""})},j=function(e){s(o.filter((function(t){return t.username!==e.username||t.repo!==e.repo})))};return n.a.createElement("div",null,h.isLoading?n.a.createElement(q.a,{now:h.loadProgress,variant:"success",animated:!0}):n.a.createElement("div",{className:"progress MainContainer-progressBarPlaceholder"}),n.a.createElement(X,{onRepoDetails:function(e,t){var a;return y.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(e&&""!==e&&t&&""!==t){r.next=3;break}return x("Missing details","Please provide both Username and Repo name"),r.abrupt("return");case 3:if(void 0===o.find((function(a){return a.username===e&&a.repo===t}))){r.next=6;break}return x("Repo exists","Repo already exists"),r.abrupt("return");case 6:if(!(o.length+1>8)){r.next=9;break}return x("Reached max number of repos allowed","Maximum repos that can be shown at the same time is 8"),r.abrupt("return");case 9:return v.current=!1,r.prev=10,r.next=13,y.a.awrap(he.loadStargazers(e,t,E,(function(){return v.current})));case 13:null!==(a=r.sent)&&s([].concat(Object(M.a)(o),[a])),f({isLoading:!1,loadProgress:0}),r.next=22;break;case 18:r.prev=18,r.t0=r.catch(10),x("Error loading stargazers",r.t0.message),f({isLoading:!1,loadProgress:0});case 22:v.current=!1;case 23:case"end":return r.stop()}}),null,null,[[10,18]])},loadInProgress:h.isLoading,onStopClick:function(){v.current=!0}}),n.a.createElement(F.a,null,n.a.createElement("div",{className:"MainContainer-closableBadgesWrapper"},o.map((function(e){return n.a.createElement("div",{className:"MainContainer-closableBadgeContainer"},n.a.createElement(le,{text:e.username+"/"+e.repo,badgeCookieData:{username:e.username,repo:e.repo},onBadgeClose:j,color:e.color,href:P.getRepoUrl(e.username,e.repo)}))})))),o.length>0?n.a.createElement(te,{repos:o,onTimeRangeChange:function(e){if(w.current=e,k.current){for(var t=o.slice(),a=0;a<t.length;a++)t[a].stats=me.calcStats(t[a].stargazerData,k.current?w.current:null);s(t)}}}):null,o.length>0?n.a.createElement(F.a,null,n.a.createElement(re,{repos:o,requestToSyncChartTimeRange:function(e){k.current=e;for(var t=o.slice(),a=0;a<t.length;a++)t[a].stats=me.calcStats(t[a].stargazerData,e?w.current:null);s(t)}})):null,o.length>0?n.a.createElement(F.a,null,n.a.createElement(oe,{repos:o})):null,n.a.createElement(ie,{pageEmpty:0===o.length}),n.a.createElement(b.a,{show:m.show,onHide:S},n.a.createElement(b.a.Header,{closeButton:!0},n.a.createElement(b.a.Title,null,m.title)),n.a.createElement(b.a.Body,null,m.message),n.a.createElement(b.a.Footer,null,n.a.createElement(u.a,{variant:"primary",onClick:S},"Close"))))},be=function(e){return n.a.createElement("div",null,n.a.createElement(H,null),n.a.createElement(fe,{preloadedRepos:e.preloadedRepos}))},Ee=(a(127),function(e){var t=Object(r.useRef)(),a=Object(r.useRef)(),o=Object(r.useState)(0),s=Object(i.a)(o,2),l=s[0],c=s[1],m=Object(r.useState)(!1),p=Object(i.a)(m,2),d=p[0],g=p[1],h=Object(r.useState)([]),f=Object(i.a)(h,2),b=f[0],E=f[1],v=Object(r.useState)([]),k=Object(i.a)(v,2),w=k[0],x=k[1],S=function(){var e,r;return y.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return e=t.current[a.current],n.prev=1,n.next=4,y.a.awrap(he.loadStargazers(e.username,e.repo,(function(e){return c(e)}),(function(){return!1})));case 4:r=n.sent,E([].concat(Object(M.a)(b),[r])),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(1),x([].concat(Object(M.a)(w),[{repoDetails:e,message:n.t0.message}]));case 11:a.current=a.current+1;case 12:case"end":return n.stop()}}),null,null,[[1,8]])};return Object(r.useEffect)((function(){t.current=function(){var t=new URLSearchParams(e.location.search),a=[];return t.forEach((function(e,t){if("r"===t){var r=e.split(",");a.length<8&&2===r.length&&void 0===a.find((function(e){return e.username===r[0]&&e.repo===r[1]}))&&a.push({username:r[0],repo:r[1]})}})),a}(),t.current.length>0?(a.current=0,S()):(g(!0),c(100))}),[]),Object(r.useEffect)((function(){(b.length>0||w.length>0)&&(a.current<t.current.length?S():(g(!0),c(100)))}),[b,w]),n.a.createElement("div",null,!1===d||w.length>0?n.a.createElement(F.a,{className:"RepoPreloader-topContainer"},n.a.createElement("h3",null,"Loading Repos Data..."),n.a.createElement("h5",null,d&&w.length>0?"Error loading repos":void 0===t.current?"":t.current[a.current].username+"/"+t.current[a.current].repo),n.a.createElement(q.a,{className:"RepoPreloader-ProgressBar-Reseting",now:l,variant:d&&w.length>0?"warning":"success",animated:!0}),w.length>0?n.a.createElement(F.a,{className:"RepoPreloader-errorContainer"},w.map((function(e){return n.a.createElement("h6",null,n.a.createElement("b",null,"Error loading ",e.repoDetails.username,"/",e.repoDetails.repo,":")," ",e.message)})),d?n.a.createElement(u.a,{onClick:function(){x([])}},"Continue"):null):null):n.a.createElement(be,{preloadedRepos:b}))}),ve=a(81),ke=a(30),ye=a(58);(function(){ye.a.initialize("UA-104097715-1"),ye.a.pageview(window.location.pathname+window.location.search)})();var we=function(){return n.a.createElement(ve.a,null,n.a.createElement(ke.a,{exact:!0,path:"/",component:be}),n.a.createElement(ke.a,{path:"/preload",component:Ee}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(130);s.a.render(n.a.createElement(we,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},51:function(e,t,a){},77:function(e){e.exports=JSON.parse('{"name":"startrack-js","version":"2.2.0","private":true,"homepage":"http://seladb.github.io/StarTrack-js","dependencies":{"@fortawesome/fontawesome-svg-core":"^1.2.26","@fortawesome/free-brands-svg-icons":"^5.12.0","@fortawesome/free-solid-svg-icons":"^5.12.0","@fortawesome/react-fontawesome":"^0.1.8","@testing-library/jest-dom":"^4.2.4","@testing-library/react":"^9.4.0","@testing-library/user-event":"^7.2.1","apexcharts":"^3.14.0","axios":"^0.19.0","bootstrap":"^4.4.1","parse-github-url":"^1.0.2","react":"^16.12.0","react-apexcharts":"^1.3.7","react-bootstrap":"^1.0.0-beta.16","react-dom":"^16.12.0","react-ga":"^2.7.0","react-github-btn":"^1.1.1","react-responsive":"^8.0.3","react-router-dom":"^5.1.2","react-scripts":"3.2.0"},"scripts":{"predeploy":"npm run build","deploy":"gh-pages -d build","start":"react-scripts start","build":"react-scripts build","test":"react-scripts test","eject":"react-scripts eject"},"eslintConfig":{"extends":"react-app"},"browserslist":{"production":[">0.2%","not dead","not op_mini all"],"development":["last 1 chrome version","last 1 firefox version","last 1 safari version"]},"devDependencies":{"gh-pages":"^2.2.0"}}')},84:function(e,t,a){e.exports=a(131)},89:function(e,t,a){}},[[84,1,2]]]);
//# sourceMappingURL=main.f92238d4.chunk.js.map